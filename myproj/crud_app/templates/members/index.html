{% extends "base.html" %}

{% block title %}
一覧を入れる
{% endblock title %}

{% block content %}
<h3>一覧表示</h3>

<a href="{% url 'crud_app:add' %}" class="btn btn-primary btn-sm">追加</a>

<table class="table table-striped table-bordered">
	<thead>
		<tr>
			<th>ID</th>
			<th>氏名</th>
			<th>Email</th>
			<th>年齢</th>
			<th>操作</th>
		</tr>
	</thead>
	<tbody>
		{% for member in members %}
		<tr>
			<td>{{ member.id }}</td>
			<td><a href="{% url 'crud_app:detail' id=member.id %}">{{ member.name }}</a></hd>
			<td>{{ member.email }}</td>
			<td>{{ member.age }}</td>
			<td><a href="{% url 'crud_app:edit' id=member.id %}" class="btn btn-primary btn-sm">編集</a>
				<a href="{% url 'crud_app:delete' id=member.id %}" class="btn btn-primary btn-sm" id="btn_del">削除</a>
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
<!-- ページネーションを入れる -->

{% endblock content %}

{% block script %}
<script>
	// 削除ボタン押したときの確認ダイアログ
	$(function(){
			$("#btn_del").click(function(){
					console.log('pushed');
					if(confirm("削除しますか?")){
							// do nothing --> executing to delete
					}
					else {
							return false;
					}
			});
	});
</script>
{% endblock %}


